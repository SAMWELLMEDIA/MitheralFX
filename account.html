<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MitheralFX - Account Settings</title>
  
  <!-- External Libraries -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  <style>
    :root {
      --bg-primary: #0f0c29;
      --bg-secondary: #302b63;
      --bg-tertiary: #24243e;
      --bg-card: rgba(255, 255, 255, 0.05);
      --bg-input: #2e2e50;
      --bg-hover: rgba(255, 255, 255, 0.08);
      --primary: #ffcc00;
      --primary-dark: #e6b800;
      --success: #10b981;
      --danger: #ef4444;
      --warning: #f59e0b;
      --info: #3b82f6;
      --text-primary: #ffffff;
      --text-secondary: #a0a9c9;
      --text-muted: #6b7280;
      --border: rgba(255, 255, 255, 0.1);
      --border-focus: rgba(255, 204, 0, 0.3);
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      --transition: all 0.3s ease;
      --radius: 12px;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Inter', sans-serif;
    }
    
    body {
      background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary), var(--bg-tertiary));
      color: var(--text-primary);
      min-height: 100vh;
      font-size: 16px;
      line-height: 1.6;
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 2rem;
    }
    
    /* Header Styles */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    .header-left {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .header-title {
      font-size: 2rem;
      font-weight: 700;
      background: linear-gradient(90deg, var(--primary), #ffd700);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .header-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    /* Layout */
    .main-layout {
      display: grid;
      grid-template-columns: 280px 1fr;
      gap: 2rem;
    }
    
    /* Sidebar */
    .sidebar {
      background: var(--bg-card);
      border-radius: var(--radius);
      padding: 1.5rem;
      border: 1px solid var(--border);
      height: fit-content;
      position: sticky;
      top: 2rem;
    }
    
    .nav-menu {
      list-style: none;
    }
    
    .nav-item {
      margin-bottom: 0.5rem;
    }
    
    .nav-link {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      color: var(--text-secondary);
      text-decoration: none;
      transition: var(--transition);
      font-weight: 500;
    }
    
    .nav-link:hover {
      background: var(--bg-hover);
      color: var(--text-primary);
    }
    
    .nav-link.active {
      background: rgba(255, 204, 0, 0.1);
      color: var(--primary);
    }
    
    /* Content Area */
    .content {
      background: var(--bg-card);
      border-radius: var(--radius);
      padding: 2rem;
      border: 1px solid var(--border);
    }
    
    /* Profile Section */
    .profile-section {
      display: flex;
      align-items: center;
      gap: 2rem;
      margin-bottom: 3rem;
      padding: 2rem;
      background: var(--bg-hover);
      border-radius: var(--radius);
    }
    
    .profile-avatar-container {
      position: relative;
    }
    
    .profile-avatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid var(--primary);
      box-shadow: 0 0 20px rgba(255, 204, 0, 0.3);
    }
    
    .avatar-upload {
      position: absolute;
      bottom: 0;
      right: 0;
      background: var(--primary);
      color: var(--bg-primary);
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }
    
    .avatar-upload:hover {
      transform: scale(1.1);
    }
    
    .profile-info {
      flex: 1;
    }
    
    .profile-name {
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }
    
    .profile-details {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      margin-top: 1rem;
    }
    
    .profile-detail {
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }
    
    .detail-label {
      font-size: 0.875rem;
      color: var(--text-secondary);
    }
    
    .detail-value {
      font-weight: 600;
    }
    
    .account-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(255, 204, 0, 0.2);
      color: var(--primary);
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.875rem;
      font-weight: 600;
    }
    
    /* Settings Sections */
    .settings-section {
      margin-bottom: 3rem;
    }
    
    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--border);
    }
    
    .section-title {
      font-size: 1.25rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .section-title i {
      color: var(--primary);
    }
    
    /* Form Styles */
    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }
    
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    .form-label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: var(--text-secondary);
    }
    
    .form-input {
      width: 100%;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--bg-input);
      color: var(--text-primary);
      transition: var(--transition);
    }
    
    .form-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(255, 204, 0, 0.1);
    }
    
    .form-select {
      width: 100%;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--bg-input);
      color: var(--text-primary);
      cursor: pointer;
    }
    
    .form-textarea {
      width: 100%;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--bg-input);
      color: var(--text-primary);
      resize: vertical;
      min-height: 100px;
    }
    
    .form-checkbox {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .form-checkbox input[type="checkbox"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }
    
    /* Button Styles */
    .btn {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      text-decoration: none;
    }
    
    .btn-primary {
      background: var(--primary);
      color: var(--bg-primary);
    }
    
    .btn-primary:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 204, 0, 0.3);
    }
    
    .btn-secondary {
      background: var(--bg-input);
      color: var(--text-primary);
      border: 1px solid var(--border);
    }
    
    .btn-secondary:hover {
      background: var(--bg-hover);
    }
    
    .btn-success {
      background: var(--success);
      color: white;
    }
    
    .btn-danger {
      background: var(--danger);
      color: white;
    }
    
    .btn-danger:hover {
      background: #d32f2f;
    }
    
    .btn-sm {
      padding: 0.5rem 1rem;
      font-size: 0.875rem;
    }
    
    .btn-icon {
      padding: 0.5rem;
      border-radius: 6px;
    }
    
    /* Payment Methods */
    .payment-methods {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 1rem;
      margin: 1.5rem 0;
    }
    
    .payment-method {
      background: var(--bg-input);
      border: 2px solid var(--border);
      border-radius: 8px;
      padding: 1rem;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
    }
    
    .payment-method:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
    }
    
    .payment-method.active {
      border-color: var(--primary);
      background: rgba(255, 204, 0, 0.1);
    }
    
    .payment-icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      color: var(--primary);
    }
    
    .saved-payments {
      margin-top: 2rem;
    }
    
    .saved-payment {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem;
      background: var(--bg-input);
      border-radius: 8px;
      margin-bottom: 0.75rem;
    }
    
    .payment-info {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .payment-type {
      font-weight: 600;
    }
    
    .payment-number {
      color: var(--text-secondary);
      font-size: 0.875rem;
    }
    
    /* Security Section */
    .security-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1.5rem;
      background: var(--bg-input);
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    
    .security-info {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .security-icon {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      background: var(--bg-hover);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--primary);
    }
    
    .security-details h4 {
      margin-bottom: 0.25rem;
    }
    
    .security-details p {
      color: var(--text-secondary);
      font-size: 0.875rem;
    }
    
    .security-status {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .status-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }
    
    .status-active {
      background: var(--success);
    }
    
    .status-inactive {
      background: var(--danger);
    }
    
    /* Sessions */
    .session-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1.5rem;
      background: var(--bg-input);
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    
    .session-info {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .session-device {
      display: flex;
      flex-direction: column;
    }
    
    .session-name {
      font-weight: 600;
    }
    
    .session-details {
      color: var(--text-secondary);
      font-size: 0.875rem;
    }
    
    .session-current {
      background: rgba(16, 185, 129, 0.2);
      color: var(--success);
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
    }
    
    /* Danger Zone */
    .danger-zone {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid rgba(239, 68, 68, 0.3);
      border-radius: var(--radius);
      padding: 2rem;
    }
    
    .danger-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    
    .danger-header i {
      font-size: 2rem;
      color: var(--danger);
    }
    
    .danger-header h3 {
      color: var(--danger);
    }
    
    .danger-actions {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }
    
    /* Loading Spinner */
    .spinner {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: var(--primary);
      animation: spin 1s ease-in-out infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* Tooltip */
    .tooltip {
      position: relative;
      display: inline-block;
    }
    
    .tooltip .tooltiptext {
      visibility: hidden;
      width: 200px;
      background-color: var(--bg-tertiary);
      color: var(--text-primary);
      text-align: center;
      border-radius: 6px;
      padding: 0.5rem;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -100px;
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 0.875rem;
      box-shadow: var(--shadow);
    }
    
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
    
    /* Responsive */
    @media (max-width: 1024px) {
      .main-layout {
        grid-template-columns: 1fr;
      }
      
      .sidebar {
        position: static;
      }
      
      .nav-menu {
        display: flex;
        overflow-x: auto;
        padding-bottom: 0.5rem;
      }
      
      .nav-item {
        margin-bottom: 0;
        margin-right: 0.5rem;
      }
    }
    
    @media (max-width: 768px) {
      .container {
        padding: 1rem;
      }
      
      .profile-section {
        flex-direction: column;
        text-align: center;
      }
      
      .form-grid {
        grid-template-columns: 1fr;
      }
      
      .payment-methods {
        grid-template-columns: 1fr;
      }
      
      .danger-actions {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="header-left">
        <h1 class="header-title">Account Settings</h1>
      </div>
      <div class="header-right">
        <div class="tooltip">
          <button class="btn btn-icon btn-secondary" onclick="exportData()">
            <i class="fas fa-download"></i>
          </button>
          <span class="tooltiptext">Export your data</span>
        </div>
        <div class="tooltip">
          <button class="btn btn-icon btn-secondary" onclick="showHelp()">
            <i class="fas fa-question-circle"></i>
          </button>
          <span class="tooltiptext">Get help</span>
        </div>
      </div>
    </header>

    <div class="main-layout">
      <!-- Sidebar Navigation -->
      <aside class="sidebar">
        <nav>
          <ul class="nav-menu">
            <li class="nav-item">
              <a href="#profile" class="nav-link active" onclick="scrollToSection('profile', this)">
                <i class="fas fa-user"></i> Profile
              </a>
            </li>
            <li class="nav-item">
              <a href="#personal" class="nav-link" onclick="scrollToSection('personal', this)">
                <i class="fas fa-id-card"></i> Personal Info
              </a>
            </li>
            <li class="nav-item">
              <a href="#security" class="nav-link" onclick="scrollToSection('security', this)">
                <i class="fas fa-shield-alt"></i> Security
              </a>
            </li>
            <li class="nav-item">
              <a href="#payments" class="nav-link" onclick="scrollToSection('payments', this)">
                <i class="fas fa-credit-card"></i> Payment Methods
              </a>
            </li>
            <li class="nav-item">
              <a href="#notifications" class="nav-link" onclick="scrollToSection('notifications', this)">
                <i class="fas fa-bell"></i> Notifications
              </a>
            </li>
            <li class="nav-item">
              <a href="#sessions" class="nav-link" onclick="scrollToSection('sessions', this)">
                <i class="fas fa-laptop"></i> Active Sessions
              </a>
            </li>
            <li class="nav-item">
              <a href="#preferences" class="nav-link" onclick="scrollToSection('preferences', this)">
                <i class="fas fa-cog"></i> Preferences
              </a>
            </li>
            <li class="nav-item">
              <a href="#danger" class="nav-link" onclick="scrollToSection('danger', this)">
                <i class="fas fa-exclamation-triangle"></i> Danger Zone
              </a>
            </li>
          </ul>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="content">
        <!-- Profile Section -->
        <section id="profile" class="settings-section">
          <div class="profile-section">
            <div class="profile-avatar-container">
              <img src="https://via.placeholder.com/120" alt="Profile Avatar" class="profile-avatar" id="profileAvatar">
              <label for="avatarUpload" class="avatar-upload">
                <i class="fas fa-camera"></i>
              </label>
              <input type="file" id="avatarUpload" accept="image/*" style="display: none;" onchange="uploadAvatar(event)">
            </div>
            
            <div class="profile-info">
              <h2 class="profile-name" id="profileName">John Doe</h2>
              <div class="account-badge">
                <i class="fas fa-crown"></i>
                <span id="accountType">Premium Account</span>
              </div>
              
              <div class="profile-details">
                <div class="profile-detail">
                  <span class="detail-label">Account ID</span>
                  <span class="detail-value" id="accountId">MFX982451</span>
                </div>
                <div class="profile-detail">
                  <span class="detail-label">Member Since</span>
                  <span class="detail-value" id="memberSince">Jan 2023</span>
                </div>
                <div class="profile-detail">
                  <span class="detail-label">Last Login</span>
                  <span class="detail-value" id="lastLogin">Today, 10:30 AM</span>
                </div>
                <div class="profile-detail">
                  <span class="detail-label">Account Status</span>
                  <span class="detail-value">
                    <span class="status-indicator status-active"></span>
                    Active
                  </span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Personal Information -->
        <section id="personal" class="settings-section">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-id-card"></i>
              Personal Information
            </h2>
          </div>
          
          <form id="personalInfoForm">
            <div class="form-grid">
              <div class="form-group">
                <label class="form-label" for="firstName">First Name</label>
                <input type="text" id="firstName" class="form-input" value="John">
              </div>
              
              <div class="form-group">
                <label class="form-label" for="lastName">Last Name</label>
                <input type="text" id="lastName" class="form-input" value="Doe">
              </div>
              
              <div class="form-group">
                <label class="form-label" for="email">Email Address</label>
                <input type="email" id="email" class="form-input" value="john.doe@example.com">
              </div>
              
              <div class="form-group">
                <label class="form-label" for="phone">Phone Number</label>
                <input type="tel" id="phone" class="form-input" value="+1 (555) 123-4567">
              </div>
              
              <div class="form-group">
                <label class="form-label" for="dob">Date of Birth</label>
                <input type="date" id="dob" class="form-input" value="1990-01-01">
              </div>
              
              <div class="form-group">
                <label class="form-label" for="country">Country</label>
                <select id="country" class="form-select">
                  <option value="US" selected>United States</option>
                  <option value="CA">Canada</option>
                  <option value="UK">United Kingdom</option>
                  <option value="AU">Australia</option>
                  <option value="DE">Germany</option>
                  <option value="FR">France</option>
                  <option value="JP">Japan</option>
                  <option value="other">Other</option>
                </select>
              </div>
            </div>
            
            <div class="form-group">
              <label class="form-label" for="bio">Bio</label>
              <textarea id="bio" class="form-textarea" placeholder="Tell us about yourself...">Professional trader with 5+ years of experience in forex and cryptocurrency markets.</textarea>
            </div>
            
            <button type="button" class="btn btn-primary" onclick="savePersonalInfo()">
              <i class="fas fa-save"></i> Save Changes
            </button>
          </form>
        </section>

        <!-- Security Settings -->
        <section id="security" class="settings-section">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-shield-alt"></i>
              Security Settings
            </h2>
          </div>
          
          <div class="security-item">
            <div class="security-info">
              <div class="security-icon">
                <i class="fas fa-lock"></i>
              </div>
              <div class="security-details">
                <h4>Password</h4>
                <p>Last changed 3 months ago</p>
              </div>
            </div>
            <button class="btn btn-secondary" onclick="showPasswordModal()">
              Change Password
            </button>
          </div>
          
          <div class="security-item">
            <div class="security-info">
              <div class="security-icon">
                <i class="fas fa-mobile-alt"></i>
              </div>
              <div class="security-details">
                <h4>Two-Factor Authentication</h4>
                <p>Add an extra layer of security to your account</p>
              </div>
            </div>
            <div class="security-status">
              <span class="status-indicator status-inactive"></span>
              <button class="btn btn-primary" onclick="enable2FA()">
                Enable
              </button>
            </div>
          </div>
          
          <div class="security-item">
            <div class="security-info">
              <div class="security-icon">
                <i class="fas fa-fingerprint"></i>
              </div>
              <div class="security-details">
                <h4>Biometric Login</h4>
                <p>Use fingerprint or face recognition to login</p>
              </div>
            </div>
            <div class="security-status">
              <span class="status-indicator status-active"></span>
              <span>Enabled</span>
            </div>
          </div>
          
          <div class="security-item">
            <div class="security-info">
              <div class="security-icon">
                <i class="fas fa-key"></i>
              </div>
              <div class="security-details">
                <h4>API Keys</h4>
                <p>Manage your API access keys</p>
              </div>
            </div>
            <button class="btn btn-secondary" onclick="manageAPIKeys()">
              Manage Keys
            </button>
          </div>
        </section>

        <!-- Payment Methods -->
        <section id="payments" class="settings-section">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-credit-card"></i>
              Payment Methods
            </h2>
            <button class="btn btn-primary btn-sm" onclick="showAddPaymentModal()">
              <i class="fas fa-plus"></i> Add Method
            </button>
          </div>
          
          <div class="payment-methods">
            <div class="payment-method" onclick="selectPaymentMethod('card')">
              <div class="payment-icon">
                <i class="fas fa-credit-card"></i>
              </div>
              <div class="payment-name">Credit/Debit Card</div>
            </div>
            
            <div class="payment-method" onclick="selectPaymentMethod('paypal')">
              <div class="payment-icon">
                <i class="fab fa-paypal"></i>
              </div>
              <div class="payment-name">PayPal</div>
            </div>
            
            <div class="payment-method" onclick="selectPaymentMethod('bank')">
              <div class="payment-icon">
                <i class="fas fa-university"></i>
              </div>
              <div class="payment-name">Bank Transfer</div>
            </div>
            
            <div class="payment-method" onclick="selectPaymentMethod('crypto')">
              <div class="payment-icon">
                <i class="fab fa-bitcoin"></i>
              </div>
              <div class="payment-name">Cryptocurrency</div>
            </div>
          </div>
          
          <div class="saved-payments">
            <h3>Saved Payment Methods</h3>
            <div class="saved-payment">
              <div class="payment-info">
                <i class="fab fa-cc-visa" style="font-size: 1.5rem; color: #1a1f71;"></i>
                <div>
                  <div class="payment-type">Visa ending in 4242</div>
                  <div class="payment-number">Expires 12/25</div>
                </div>
              </div>
              <div>
                <button class="btn btn-sm btn-secondary" onclick="editPayment('visa')">Edit</button>
                <button class="btn btn-sm btn-danger" onclick="removePayment('visa')">Remove</button>
              </div>
            </div>
            
            <div class="saved-payment">
              <div class="payment-info">
                <i class="fab fa-paypal" style="font-size: 1.5rem; color: #003087;"></i>
                <div>
                  <div class="payment-type">PayPal</div>
                  <div class="payment-number">john.doe@example.com</div>
                </div>
              </div>
              <div>
                <button class="btn btn-sm btn-secondary" onclick="editPayment('paypal')">Edit</button>
                <button class="btn btn-sm btn-danger" onclick="removePayment('paypal')">Remove</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Notification Settings -->
        <section id="notifications" class="settings-section">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-bell"></i>
              Notification Preferences
            </h2>
          </div>
          
          <form id="notificationForm">
            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="emailNotifications" checked>
                <label for="emailNotifications">Email Notifications</label>
              </div>
              <p style="color: var(--text-secondary); font-size: 0.875rem; margin-left: 1.5rem;">
                Receive important account updates via email
              </p>
            </div>
            
            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="smsNotifications">
                <label for="smsNotifications">SMS Notifications</label>
              </div>
              <p style="color: var(--text-secondary); font-size: 0.875rem; margin-left: 1.5rem;">
                Get security alerts via SMS
              </p>
            </div>
            
            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="pushNotifications" checked>
                <label for="pushNotifications">Push Notifications</label>
              </div>
              <p style="color: var(--text-secondary); font-size: 0.875rem; margin-left: 1.5rem;">
                Receive real-time notifications on your devices
              </p>
            </div>
            
            <h3 style="margin: 2rem 0 1rem;">Notification Types</h3>
            
            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="tradeAlerts" checked>
                <label for="tradeAlerts">Trade Alerts</label>
              </div>
            </div>
            
            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="marketUpdates" checked>
                <label for="marketUpdates">Market Updates</label>
              </div>
            </div>
            
            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="promotionalOffers">
                <label for="promotionalOffers">Promotional Offers</label>
              </div>
            </div>
            
            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="securityAlerts" checked>
                <label for="securityAlerts">Security Alerts</label>
              </div>
            </div>
            
            <button type="button" class="btn btn-primary" onclick="saveNotificationSettings()">
              <i class="fas fa-save"></i> Save Preferences
            </button>
          </form>
        </section>

        <!-- Active Sessions -->
        <section id="sessions" class="settings-section">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-laptop"></i>
              Active Sessions
            </h2>
            <button class="btn btn-danger btn-sm" onclick="terminateAllSessions()">
              <i class="fas fa-sign-out-alt"></i> Terminate All
            </button>
          </div>
          
          <div class="session-item">
            <div class="session-info">
              <i class="fas fa-desktop" style="font-size: 1.5rem; color: var(--primary);"></i>
              <div class="session-device">
                <div class="session-name">Chrome on Windows</div>
                <div class="session-details">New York, USA • Current session</div>
              </div>
            </div>
            <div>
              <span class="session-current">Current</span>
            </div>
          </div>
          
          <div class="session-item">
            <div class="session-info">
              <i class="fas fa-mobile-alt" style="font-size: 1.5rem; color: var(--primary);"></i>
              <div class="session-device">
                <div class="session-name">Safari on iPhone</div>
                <div class="session-details">Los Angeles, USA • 2 days ago</div>
              </div>
            </div>
            <button class="btn btn-danger btn-sm" onclick="terminateSession('iphone')">
              Terminate
            </button>
          </div>
          
          <div class="session-item">
            <div class="session-info">
              <i class="fas fa-tablet-alt" style="font-size: 1.5rem; color: var(--primary);"></i>
              <div class="session-device">
                <div class="session-name">Firefox on iPad</div>
                <div class="session-details">London, UK • 1 week ago</div>
              </div>
            </div>
            <button class="btn btn-danger btn-sm" onclick="terminateSession('ipad')">
              Terminate
            </button>
          </div>
        </section>

        <!-- Preferences -->
        <section id="preferences" class="settings-section">
          <div class="section-header">
            <h2 class="section-title">
              <i class="fas fa-cog"></i>
              Preferences
            </h2>
          </div>
          
          <form id="preferencesForm">
            <div class="form-grid">
              <div class="form-group">
                <label class="form-label" for="language">Language</label>
                <select id="language" class="form-select">
                  <option value="en" selected>English</option>
                  <option value="es">Español</option>
                  <option value="fr">Français</option>
                  <option value="de">Deutsch</option>
                  <option value="it">Italiano</option>
                  <option value="pt">Português</option>
                  <option value="ru">Русский</option>
                  <option value="zh">中文</option>
                  <option value="ja">日本語</option>
                </select>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="timezone">Timezone</label>
                <select id="timezone" class="form-select">
                  <option value="UTC-8" selected>Pacific Time (PT)</option>
                  <option value="UTC-7">Mountain Time (MT)</option>
                  <option value="UTC-6">Central Time (CT)</option>
                  <option value="UTC-5">Eastern Time (ET)</option>
                  <option value="UTC+0">Greenwich Mean Time (GMT)</option>
                  <option value="UTC+1">Central European Time (CET)</option>
                  <option value="UTC+8">China Standard Time (CST)</option>
                  <option value="UTC+9">Japan Standard Time (JST)</option>
                </select>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="dateFormat">Date Format</label>
                <select id="dateFormat" class="form-select">
                  <option value="MM/DD/YYYY" selected>MM/DD/YYYY</option>
                  <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                  <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                </select>
              </div>
              
              <div class="form-group">
                <label class="form-label" for="currency">Default Currency</label>
                <select id="currency" class="form-select">
                  <option value="USD" selected>USD ($)</option>
                  <option value="EUR">EUR (€)</option>
                  <option value="GBP">GBP (£)</option>
                  <option value="JPY">JPY (¥)</option>
                  <option value="CAD">CAD ($)</option>
                  <option value="AUD">AUD ($)</option>
                </select>
              </div>
            </div>
            
            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="darkMode" checked>
                <label for="darkMode">Dark Mode</label>
              </div>
            </div>
            
            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="highContrast">
                <label for="highContrast">High Contrast Mode</label>
              </div>
            </div>
            
            <div class="form-group">
              <div class="form-checkbox">
                <input type="checkbox" id="animations" checked>
                <label for="animations">Enable Animations</label>
              </div>
            </div>
            
            <button type="button" class="btn btn-primary" onclick="savePreferences()">
              <i class="fas fa-save"></i> Save Preferences
            </button>
          </form>
        </section>

        <!-- Danger Zone -->
        <section id="danger" class="settings-section">
          <div class="danger-zone">
            <div class="danger-header">
              <i class="fas fa-exclamation-triangle"></i>
              <h3>Danger Zone</h3>
            </div>
            
            <p style="margin-bottom: 1.5rem;">
              These actions are irreversible and will have permanent effects on your account. 
              Please proceed with caution and make sure you understand the consequences.
            </p>
            
            <div class="danger-actions">
              <button class="btn btn-secondary" onclick="downloadData()">
                <i class="fas fa-download"></i> Download My Data
              </button>
              
              <button class="btn btn-secondary" onclick="requestDeletion()">
                <i class="fas fa-user-slash"></i> Request Account Deletion
              </button>
              
              <button class="btn btn-danger" onclick="freezeAccount()">
                <i class="fas fa-snowflake"></i> Freeze Account
              </button>
              
              <button class="btn btn-danger" onclick="deleteAccount()">
                <i class="fas fa-trash-alt"></i> Delete Account
              </button>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- Password Change Modal -->
  <div id="passwordModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Change Password</h3>
        <span class="close" onclick="closeModal('passwordModal')">&times;</span>
      </div>
      <div class="modal-body">
        <form id="passwordForm">
          <div class="form-group">
            <label class="form-label">Current Password</label>
            <input type="password" id="currentPassword" class="form-input" required>
          </div>
          
          <div class="form-group">
            <label class="form-label">New Password</label>
            <input type="password" id="newPassword" class="form-input" required>
            <small style="color: var(--text-secondary);">Must be at least 8 characters long</small>
          </div>
          
          <div class="form-group">
            <label class="form-label">Confirm New Password</label>
            <input type="password" id="confirmPassword" class="form-input" required>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('passwordModal')">Cancel</button>
        <button class="btn btn-primary" onclick="changePassword()">
          <i class="fas fa-key"></i> Change Password
        </button>
      </div>
    </div>
  </div>

  <!-- Add Payment Method Modal -->
  <div id="paymentModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Add Payment Method</h3>
        <span class="close" onclick="closeModal('paymentModal')">&times;</span>
      </div>
      <div class="modal-body">
        <form id="paymentForm">
          <div class="form-group">
            <label class="form-label">Card Number</label>
            <input type="text" id="cardNumber" class="form-input" placeholder="1234 5678 9012 3456" maxlength="19">
          </div>
          
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">Expiry Date</label>
              <input type="text" id="expiryDate" class="form-input" placeholder="MM/YY" maxlength="5">
            </div>
            
            <div class="form-group">
              <label class="form-label">CVV</label>
              <input type="text" id="cvv" class="form-input" placeholder="123" maxlength="4">
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label">Cardholder Name</label>
            <input type="text" id="cardholderName" class="form-input" placeholder="John Doe">
          </div>
          
          <div class="form-group">
            <label class="form-label">Billing Address</label>
            <textarea id="billingAddress" class="form-textarea" rows="3" placeholder="Enter billing address"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="closeModal('paymentModal')">Cancel</button>
        <button class="btn btn-primary" onclick="addPaymentMethod()">
          <i class="fas fa-plus"></i> Add Method
        </button>
      </div>
    </div>
  </div>

  <script>
    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      loadUserData();
      initializeFormatters();
    });
    
    // Load user data from localStorage
    function loadUserData() {
      // Load profile data
      const userData = JSON.parse(localStorage.getItem('userData')) || {};
      
      document.getElementById('profileName').textContent = userData.fullName || 'John Doe';
      document.getElementById('firstName').value = userData.firstName || 'John';
      document.getElementById('lastName').value = userData.lastName || 'Doe';
      document.getElementById('email').value = userData.email || 'john.doe@example.com';
      document.getElementById('phone').value = userData.phone || '+1 (555) 123-4567';
      document.getElementById('dob').value = userData.dob || '1990-01-01';
      document.getElementById('country').value = userData.country || 'US';
      document.getElementById('bio').value = userData.bio || '';
      
      // Load account data
      const accountData = JSON.parse(localStorage.getItem('accountData')) || {};
      document.getElementById('accountId').textContent = accountData.id || 'MFX982451';
      document.getElementById('accountType').textContent = accountData.type || 'Premium Account';
      document.getElementById('memberSince').textContent = accountData.memberSince || 'Jan 2023';
      
      // Load preferences
      const preferences = JSON.parse(localStorage.getItem('preferences')) || {};
      document.getElementById('language').value = preferences.language || 'en';
      document.getElementById('timezone').value = preferences.timezone || 'UTC-8';
      document.getElementById('dateFormat').value = preferences.dateFormat || 'MM/DD/YYYY';
      document.getElementById('currency').value = preferences.currency || 'USD';
      document.getElementById('darkMode').checked = preferences.darkMode !== false;
      document.getElementById('highContrast').checked = preferences.highContrast || false;
      document.getElementById('animations').checked = preferences.animations !== false;
      
      // Load notification settings
      const notifications = JSON.parse(localStorage.getItem('notifications')) || {};
      document.getElementById('emailNotifications').checked = notifications.email !== false;
      document.getElementById('smsNotifications').checked = notifications.sms || false;
      document.getElementById('pushNotifications').checked = notifications.push !== false;
      document.getElementById('tradeAlerts').checked = notifications.tradeAlerts !== false;
      document.getElementById('marketUpdates').checked = notifications.marketUpdates !== false;
      document.getElementById('promotionalOffers').checked = notifications.promotionalOffers || false;
      document.getElementById('securityAlerts').checked = notifications.securityAlerts !== false;
      
      // Load avatar
      const savedAvatar = localStorage.getItem('userAvatar');
      if (savedAvatar) {
        document.getElementById('profileAvatar').src = savedAvatar;
      }
      
      // Update last login
      updateLastLogin();
    }
    
    // Initialize formatters
    function initializeFormatters() {
      // Format card number input
      const cardNumberInput = document.getElementById('cardNumber');
      if (cardNumberInput) {
        cardNumberInput.addEventListener('input', function(e) {
          let value = e.target.value.replace(/\s/g, '');
          let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
          e.target.value = formattedValue;
        });
      }
      
      // Format expiry date input
      const expiryInput = document.getElementById('expiryDate');
      if (expiryInput) {
        expiryInput.addEventListener('input', function(e) {
          let value = e.target.value.replace(/\D/g, '');
          if (value.length >= 2) {
            value = value.slice(0, 2) + '/' + value.slice(2, 4);
          }
          e.target.value = value;
        });
      }
      
      // Format CVV input
      const cvvInput = document.getElementById('cvv');
      if (cvvInput) {
        cvvInput.addEventListener('input', function(e) {
          e.target.value = e.target.value.replace(/\D/g, '');
        });
      }
    }
    
    // Update last login time
    function updateLastLogin() {
      const now = new Date();
      const options = { 
        weekday: 'short', 
        month: 'short', 
        day: 'numeric', 
        hour: '2-digit', 
        minute: '2-digit' 
      };
      const formattedDate = now.toLocaleDateString('en-US', options);
      document.getElementById('lastLogin').textContent = formattedDate;
    }
    
    // Scroll to section
    function scrollToSection(sectionId, linkElement) {
      const section = document.getElementById(sectionId);
      section.scrollIntoView({ behavior: 'smooth' });
      
      // Update active nav link
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
      });
      linkElement.classList.add('active');
    }
    
    // Upload avatar
    function uploadAvatar(event) {
      const file = event.target.files[0];
      if (file) {
        // Validate file type
        if (!file.type.match('image.*')) {
          Swal.fire({
            icon: 'error',
            title: 'Invalid File',
            text: 'Please select an image file.',
          });
          return;
        }
        
        // Validate file size (max 5MB)
        if (file.size > 5 * 1024 * 1024) {
          Swal.fire({
            icon: 'error',
            title: 'File Too Large',
            text: 'Please select an image smaller than 5MB.',
          });
          return;
        }
        
        const reader = new FileReader();
        reader.onload = function(e) {
          document.getElementById('profileAvatar').src = e.target.result;
          localStorage.setItem('userAvatar', e.target.result);
          
          Swal.fire({
            icon: 'success',
            title: 'Avatar Updated',
            text: 'Your profile picture has been updated!',
            timer: 2000,
            showConfirmButton: false
          });
        };
        reader.readAsDataURL(file);
      }
    }
    
    // Save personal information
    function savePersonalInfo() {
      const userData = {
        fullName: document.getElementById('firstName').value + ' ' + document.getElementById('lastName').value,
        firstName: document.getElementById('firstName').value,
        lastName: document.getElementById('lastName').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        dob: document.getElementById('dob').value,
        country: document.getElementById('country').value,
        bio: document.getElementById('bio').value
      };
      
      // Validate email
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(userData.email)) {
        Swal.fire({
          icon: 'error',
          title: 'Invalid Email',
          text: 'Please enter a valid email address.',
        });
        return;
      }
      
      localStorage.setItem('userData', JSON.stringify(userData));
      document.getElementById('profileName').textContent = userData.fullName;
      
      Swal.fire({
        icon: 'success',
        title: 'Saved!',
        text: 'Your personal information has been updated.',
        timer: 2000,
        showConfirmButton: false
      });
    }
    
    // Show password modal
    function showPasswordModal() {
      document.getElementById('passwordModal').style.display = 'block';
    }
    
    // Change password
    function changePassword() {
      const currentPassword = document.getElementById('currentPassword').value;
      const newPassword = document.getElementById('newPassword').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      
      // Validate inputs
      if (!currentPassword || !newPassword || !confirmPassword) {
        Swal.fire({
          icon: 'error',
          title: 'Missing Fields',
          text: 'Please fill in all password fields.',
        });
        return;
      }
      
      // Check current password (in real app, this would be verified server-side)
      const savedPassword = localStorage.getItem('userPassword') || '123456';
      if (currentPassword !== savedPassword) {
        Swal.fire({
          icon: 'error',
          title: 'Incorrect Password',
          text: 'The current password you entered is incorrect.',
        });
        return;
      }
      
      // Validate new password
      if (newPassword.length < 8) {
        Swal.fire({
          icon: 'error',
          title: 'Weak Password',
          text: 'New password must be at least 8 characters long.',
        });
        return;
      }
      
      if (newPassword !== confirmPassword) {
        Swal.fire({
          icon: 'error',
          title: 'Passwords Don\'t Match',
          text: 'The new password and confirmation do not match.',
        });
        return;
      }
      
      // Save new password
      localStorage.setItem('userPassword', newPassword);
      
      // Close modal and clear form
      closeModal('passwordModal');
      document.getElementById('passwordForm').reset();
      
      Swal.fire({
        icon: 'success',
        title: 'Password Changed',
        text: 'Your password has been updated successfully!',
        timer: 2000,
        showConfirmButton: false
      });
    }
    
    // Enable 2FA
    function enable2FA() {
      Swal.fire({
        title: 'Enable Two-Factor Authentication',
        html: `
          <p>Two-factor authentication adds an extra layer of security to your account.</p>
          <div style="text-align: left; margin-top: 1rem;">
            <p><strong>How it works:</strong></p>
            <ol>
              <li>Download an authenticator app (Google Authenticator, Authy, etc.)</li>
              <li>Scan the QR code with your app</li>
              <li>Enter the verification code</li>
            </ol>
          </div>
        `,
        icon: 'info',
        showCancelButton: true,
        confirmButtonText: 'Enable 2FA',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#10b981'
      }).then((result) => {
        if (result.isConfirmed) {
          // In a real app, this would set up 2FA
          localStorage.setItem('twoFactorEnabled', 'true');
          
          Swal.fire({
            icon: 'success',
            title: '2FA Enabled',
            text: 'Two-factor authentication has been enabled for your account.',
            timer: 2000,
            showConfirmButton: false
          });
          
          // Update UI
          location.reload();
        }
      });
    }
    
    // Manage API keys
    function manageAPIKeys() {
      Swal.fire({
        title: 'API Keys',
        html: `
          <div style="text-align: left;">
            <div style="background: var(--bg-input); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                <strong>Live API Key</strong>
                <span class="status-indicator status-active"></span>
              </div>
              <code style="word-break: break-all; font-size: 0.875rem;">mk_live_5x7y9z1a3b5c7d9e1f3g5h7i9j1k3l5m7</code>
            </div>
            <div style="background: var(--bg-input); padding: 1rem; border-radius: 8px;">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                <strong>Test API Key</strong>
                <span class="status-indicator status-active"></span>
              </div>
              <code style="word-break: break-all; font-size: 0.875rem;">mk_test_5x7y9z1a3b5c7d9e1f3g5h7i9j1k3l5m7</code>
            </div>
          </div>
        `,
        showConfirmButton: false,
        showCloseButton: true
      });
    }
    
    // Show add payment modal
    function showAddPaymentModal() {
      document.getElementById('paymentModal').style.display = 'block';
    }
    
    // Add payment method
    function addPaymentMethod() {
      const cardNumber = document.getElementById('cardNumber').value.replace(/\s/g, '');
      const expiryDate = document.getElementById('expiryDate').value;
      const cvv = document.getElementById('cvv').value;
      const cardholderName = document.getElementById('cardholderName').value;
      const billingAddress = document.getElementById('billingAddress').value;
      
      // Validate inputs
      if (!cardNumber || !expiryDate || !cvv || !cardholderName || !billingAddress) {
        Swal.fire({
          icon: 'error',
          title: 'Missing Information',
          text: 'Please fill in all required fields.',
        });
        return;
      }
      
      // Validate card number (simplified)
      if (cardNumber.length !== 16) {
        Swal.fire({
          icon: 'error',
          title: 'Invalid Card Number',
          text: 'Please enter a valid 16-digit card number.',
        });
        return;
      }
      
      // Save payment method (in real app, this would be sent to server)
      const paymentMethods = JSON.parse(localStorage.getItem('paymentMethods')) || [];
      paymentMethods.push({
        type: 'card',
        lastFour: cardNumber.slice(-4),
        expiry: expiryDate,
        cardholder: cardholderName
      });
      localStorage.setItem('paymentMethods', JSON.stringify(paymentMethods));
      
      // Close modal and clear form
      closeModal('paymentModal');
      document.getElementById('paymentForm').reset();
      
      Swal.fire({
        icon: 'success',
        title: 'Payment Method Added',
        text: 'Your payment method has been saved successfully.',
        timer: 2000,
        showConfirmButton: false
      });
      
      // Reload page to show new payment method
      location.reload();
    }
    
    // Edit payment method
    function editPayment(methodId) {
      Swal.fire({
        title: 'Edit Payment Method',
        text: 'This feature is coming soon!',
        icon: 'info'
      });
    }
    
    // Remove payment method
    function removePayment(methodId) {
      Swal.fire({
        title: 'Remove Payment Method',
        text: 'Are you sure you want to remove this payment method?',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Remove',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#ef4444'
      }).then((result) => {
        if (result.isConfirmed) {
          // Remove payment method (in real app, this would be done on server)
          let paymentMethods = JSON.parse(localStorage.getItem('paymentMethods')) || [];
          paymentMethods = paymentMethods.filter(method => method.id !== methodId);
          localStorage.setItem('paymentMethods', JSON.stringify(paymentMethods));
          
          Swal.fire({
            icon: 'success',
            title: 'Removed',
            text: 'Payment method has been removed.',
            timer: 2000,
            showConfirmButton: false
          });
          
          // Reload page to update payment methods list
          location.reload();
        }
      });
    }
    
    // Save notification settings
    function saveNotificationSettings() {
      const notifications = {
        email: document.getElementById('emailNotifications').checked,
        sms: document.getElementById('smsNotifications').checked,
        push: document.getElementById('pushNotifications').checked,
        tradeAlerts: document.getElementById('tradeAlerts').checked,
        marketUpdates: document.getElementById('marketUpdates').checked,
        promotionalOffers: document.getElementById('promotionalOffers').checked,
        securityAlerts: document.getElementById('securityAlerts').checked
      };
      
      localStorage.setItem('notifications', JSON.stringify(notifications));
      
      Swal.fire({
        icon: 'success',
        title: 'Preferences Saved',
        text: 'Your notification preferences have been updated.',
        timer: 2000,
        showConfirmButton: false
      });
    }
    
    // Terminate session
    function terminateSession(sessionId) {
      Swal.fire({
        title: 'Terminate Session',
        text: 'Are you sure you want to terminate this session?',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Terminate',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#ef4444'
      }).then((result) => {
        if (result.isConfirmed) {
          Swal.fire({
            icon: 'success',
            title: 'Session Terminated',
            text: 'The session has been terminated successfully.',
            timer: 2000,
            showConfirmButton: false
          });
          
          // In a real app, this would terminate the session on the server
          // For demo, we'll just reload the page
          setTimeout(() => location.reload(), 2000);
        }
      });
    }
    
    // Terminate all sessions
    function terminateAllSessions() {
      Swal.fire({
        title: 'Terminate All Sessions',
        text: 'Are you sure you want to terminate all other sessions? You will be logged out everywhere else.',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Terminate All',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#ef4444'
      }).then((result) => {
        if (result.isConfirmed) {
          Swal.fire({
            icon: 'success',
            title: 'All Sessions Terminated',
            text: 'All other sessions have been terminated successfully.',
            timer: 2000,
            showConfirmButton: false
          });
          
          // In a real app, this would terminate all sessions on the server
          // For demo, we'll just reload the page
          setTimeout(() => location.reload(), 2000);
        }
      });
    }
    
    // Save preferences
    function savePreferences() {
      const preferences = {
        language: document.getElementById('language').value,
        timezone: document.getElementById('timezone').value,
        dateFormat: document.getElementById('dateFormat').value,
        currency: document.getElementById('currency').value,
        darkMode: document.getElementById('darkMode').checked,
        highContrast: document.getElementById('highContrast').checked,
        animations: document.getElementById('animations').checked
      };
      
      localStorage.setItem('preferences', JSON.stringify(preferences));
      
      // Apply theme changes immediately
      if (preferences.darkMode) {
        document.body.classList.add('dark-theme');
      } else {
        document.body.classList.remove('dark-theme');
      }
      
      Swal.fire({
        icon: 'success',
        title: 'Preferences Saved',
        text: 'Your preferences have been updated.',
        timer: 2000,
        showConfirmButton: false
      });
    }
    
    // Download data
    function downloadData() {
      // Collect all user data
      const userData = {
        personal: JSON.parse(localStorage.getItem('userData')) || {},
        account: JSON.parse(localStorage.getItem('accountData')) || {},
        preferences: JSON.parse(localStorage.getItem('preferences')) || {},
        notifications: JSON.parse(localStorage.getItem('notifications')) || {},
        paymentMethods: JSON.parse(localStorage.getItem('paymentMethods')) || []
      };
      
      // Convert to JSON and create blob
      const dataStr = JSON.stringify(userData, null, 2);
      const dataBlob = new Blob([dataStr], { type: 'application/json' });
      
      // Create download link
      const url = URL.createObjectURL(dataBlob);
      const link = document.createElement('a');
      link.href = url;
      link.download = 'mitheralfx-account-data.json';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      URL.revokeObjectURL(url);
      
      Swal.fire({
        icon: 'success',
        title: 'Data Downloaded',
        text: 'Your account data has been downloaded successfully.',
        timer: 2000,
        showConfirmButton: false
      });
    }
    
    // Request account deletion
    function requestDeletion() {
      Swal.fire({
        title: 'Request Account Deletion',
        html: `
          <p>We're sorry to see you go. Account deletion is permanent and cannot be undone.</p>
          <p style="margin-top: 1rem;"><strong>What happens when you delete your account:</strong></p>
          <ul style="text-align: left; margin-left: 1.5rem;">
            <li>All your personal data will be permanently deleted</li>
            <li>All trading history will be lost</li>
            <li>All open positions will be closed</li>
            <li>All funds will be withdrawn to your linked account</li>
          </ul>
        `,
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Request Deletion',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#ef4444'
      }).then((result) => {
        if (result.isConfirmed) {
          // In a real app, this would initiate the deletion process
          localStorage.setItem('deletionRequested', 'true');
          
          Swal.fire({
            icon: 'info',
            title: 'Deletion Requested',
            text: 'You will receive an email with further instructions to complete the deletion process.',
            timer: 3000,
            showConfirmButton: false
          });
        }
      });
    }
    
    // Freeze account
    function freezeAccount() {
      Swal.fire({
        title: 'Freeze Account',
        text: 'Are you sure you want to freeze your account? You won\'t be able to trade or access your funds until you unfreeze it.',
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Freeze Account',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#3b82f6'
      }).then((result) => {
        if (result.isConfirmed) {
          localStorage.setItem('accountFrozen', 'true');
          
          Swal.fire({
            icon: 'success',
            title: 'Account Frozen',
            text: 'Your account has been frozen successfully.',
            timer: 2000,
            showConfirmButton: false
          });
        }
      });
    }
    
    // Delete account
    function deleteAccount() {
      Swal.fire({
        title: 'Delete Account Permanently',
        html: `
          <p>This action cannot be undone. This will permanently delete your account and remove all your data.</p>
          <p style="margin-top: 1rem; color: var(--danger);"><strong>Warning:</strong> This action is irreversible!</p>
        `,
        icon: 'error',
        showCancelButton: true,
        confirmButtonText: 'Yes, Delete My Account',
        cancelButtonText: 'Cancel',
        confirmButtonColor: '#ef4444',
        reverseButtons: true
      }).then((result) => {
        if (result.isConfirmed) {
          // Clear all localStorage data
          localStorage.clear();
          
          Swal.fire({
            icon: 'success',
            title: 'Account Deleted',
            text: 'Your account has been deleted successfully.',
            timer: 2000,
            showConfirmButton: false
          }).then(() => {
            // Redirect to login page
            window.location.href = 'login.html';
          });
        }
      });
    }
    
    // Export data (same as download)
    function exportData() {
      downloadData();
    }
    
    // Show help
    function showHelp() {
      Swal.fire({
        title: 'Help & Support',
        html: `
          <div style="text-align: left;">
            <p>If you need help with your account settings, you can:</p>
            <ul style="margin-left: 1.5rem;">
              <li>Check our <a href="#" style="color: var(--primary);">Knowledge Base</a></li>
              <li>Contact our <a href="#" style="color: var(--primary);">Support Team</a></li>
              <li>Join our <a href="#" style="color: var(--primary);">Community Forum</a></li>
            </ul>
            <p style="margin-top: 1rem;">For immediate assistance, use the live chat in the bottom right corner.</p>
          </div>
        `,
        icon: 'info',
        confirmButtonText: 'Got it'
      });
    }
    
    // Close modal
    function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
    }
    
    // Close modal when clicking outside
    window.onclick = function(event) {
      if (event.target.classList.contains('modal')) {
        event.target.style.display = 'none';
      }
    }
  </script>
</body>
</html>